#!/bin/sh
#
# update
#
# `update` handles installation, updates, things like that. Run it periodically
# to make sure you're on the latest and greatest.
#
# Referencecs
# - https://medium.com/@waxzce/keeping-macos-clean-this-is-my-osx-brew-update-cli-command-6c8f12dc1731

set -ex

export DOTFILES=$HOME/.dotfiles

# Set macOS defaults
"$DOTFILES/macos/set-defaults.sh"

brew update
# brew upgrade
brew bundle --file="$DOTFILES/Brewfile"
brew bundle cleanup --file="$DOTFILES/Brewfile" --force
brew cleanup -s
brew cask cleanup
brew prune
brew doctor
brew missing

# Install software
echo "â€º $DOTFILES/script/install"
"$DOTFILES/script/install"

terminal-notifier -message "update complete"
